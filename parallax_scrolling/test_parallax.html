<html>
<head>
	<link rel="stylesheet" href="../lib/animate.css">
	<style>
	body{
		/*overflow: hidden;*/
		margin: 0px;
		padding: 0px;
	}
	.panel{
		width:100%;
	}
	#panel1{
		height:200%;
		background-color: red;
	}
	#panel2{
		height:100%;
		background-color: blue;
	}
	#panel3{
		height:200%;
		background-color: black;
	}
	#panel4{
		height:100%;
		background-color: yellow;
	}
	</style>
</head>
<body>
	<div class="panel" id="panel1"></div>
	<div class="panel" id="panel2"></div>
	<div class="panel" id="panel3"></div>
	<div class="panel" id="panel4"></div>
</body>
<script src="../lib/jquery.js"></script>
<script src="../lib/viewportchecker.js"></script>
<script>
var top_array=[];
var elems=4;
current_focus=0;
var animation_state=false;
var move_to_slide=function(slide){
	animation_state=true;
	current_focus=slide;
	$("html, body").animate({scrollTop: top_array[current_focus]},function(){animation_state=false;});
}
var temp=0;
$(window).resize(function(){
	calculate_top_array();
});
var calculate_top_array=function(){
	temp=0;
	top_array=[];
		$(".panel").each(function(){
		top_array.push(temp);
		temp+=$(this).height();
	})
}
$(document).bind('mousewheel DOMMouseScroll',function(event){
	event.preventDefault();
	event.stopPropagation();
	if(animation_state==true)
		return;
 	if (event.originalEvent.wheelDelta < 0) {
		move_to_slide((current_focus+1)%elems)
	}
	else{
		move_to_slide(((current_focus-1)+elems)%elems)
	}
	// var index=top_array.indexOf($('body').scrollTop())
	// if(index!==-1){
	// 	//alert("ASd");
	// }
})
$(function(){
	// 
	calculate_top_array();
})
</script>
</html>